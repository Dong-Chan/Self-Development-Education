# 文件权限
在本章中，我们将详细讨论Unix中的文件许可和访问模式。文件所有权是Unix的重要组成部分，它提供了一种安全的文件存储方法。 Unix中的每个文件都具有以下属性-

- 拥有者权限-所有者的权限确定文件的所有者可以对文件执行哪些操作。

- 组权限-组权限确定用户（属于文件所属组的成员）可以对该文件执行哪些操作。

- 其他权限-其他权限表示所有其他用户可以对该文件执行什么操作。

# 权限指标
使用ls -l命令时，它显示与文件许可权相关的各种信息，如下所示-

$ ls -l / home / amrood
-rwxr-xr-- 1个amrood用户1024 Nov 2 00:10 myfile
drwxr-xr --- 1个amrood用户1024 Nov 2 00:10 mydir
这里，第一列代表不同的访问模式，即与文件或目录相关联的许可。

权限分为三部分，每组中的每个位置代表一个特定的权限，顺序为：读（r），写（w），执行（x）-

- 前三个字符（2-4）表示文件所有者的权限。例如，-rwxr-xr--表示拥有者具有读取（r），写入（w）和执行（x）权限。

- 第二组三个字符（5-7）包含文件所属组的权限。例如，-rwxr-xr--表示该组具有读取（r）和执行（x）权限，但没有写权限。

- 最后一组三个字符（8-10）代表其他所有人的权限。例如，-rwxr-xr--表示存在只读（r）权限。

## 档案存取模式
文件的权限是Unix系统安全性的第一道防线。 Unix权限的基本组成部分是读取，写入和执行权限，下面将对其进行介绍-

**读**
授予读取（即查看文件内容）功能。

**写**
授予修改或删除文件内容的功能。

**执行**
具有执行权限的用户可以将文件作为程序运行。

## 目录访问模式
目录访问模式的列出和组织方式与其他任何文件相同。有一些差异需要提及-

**读**
访问目录意味着用户可以阅读目录。用户可以查看目录内的文件名。

**写**
访问意味着用户可以在目录中添加或删除文件。

**执行**
执行目录实际上没有任何意义，因此请将其视为遍历权限。

用户必须具有对bin目录的执行访问权限，才能执行ls或cd命令。

## 更改权限
要更改文件或目录权限，请使用chmod（更改模式）命令。有两种使用chmod的方法-符号模式和绝对模式。

在符号模式下使用chmod
初学者修改文件或目录权限的最简单方法是使用符号模式。使用符号权限，您可以使用下表中的运算符来添加，删除或指定所需的权限集。

序号Chmod运算符和说明
1个
+

将指定的权限添加到文件或目录。

2
--

从文件或目录中删除指定的权限。

3
=

设置指定的权限。

这是使用测试文件的示例。在测试文件上运行ls -1表示文件的权限如下：

$ ls -l测试文件
-rwxrwxr-- 1个amrood用户1024 Nov 2 00:10 testfile
然后，上表中的每个示例chmod命令都在测试文件上运行，然后是ls –l，因此您可以看到权限更改-

$ chmod o + wx测试文件
$ ls -l测试文件
-rwxrwxrwx 1个用户1024 Nov 2 00:10 testfile
$ chmod u-x测试文件
$ ls -l测试文件
-rw-rwxrwx 1个用户1024 Nov 2 00:10 testfile
$ chmod g = rx测试文件
$ ls -l测试文件
-rw-r-xrwx 1个用户1024 Nov 2 00:10 testfile
这是您如何在一行上组合这些命令的方法-

$ chmod o + wx，u-x，g = rx测试文件
$ ls -l测试文件
-rw-r-xrwx 1个用户1024 Nov 2 00:10 testfile
使用具有绝对权限的chmod
使用chmod命令修改权限的第二种方法是使用数字来指定文件的每组权限。

如下表所示，为每个权限分配了一个值，每组权限的总数为该权限集提供了一个数字。

数字八进制权限表示形式参考
0没有权限-
1执行权限--x
2写权限-w-
3执行和写入权限：1（执行）+ 2（写入）= 3 -wx
4读取权限r--
5读取和执行许可：4（读取）+1（执行）= 5 r-x
6读写许可：4（读取）+ 2（写入）= 6 rw-
7所有权限：4（读）+ 2（写）+1（执行）= 7 rwx
这是使用测试文件的示例。在测试文件上运行ls -1表示文件的权限为
这是使用测试文件的示例。在测试文件上运行ls -1表示文件的权限如下：

$ ls -l测试文件
-rwxrwxr-- 1个amrood用户1024 Nov 2 00:10 testfile
然后，上表中的每个示例chmod命令都在测试文件上运行，然后是ls –l，因此您可以看到权限更改-

$ chmod 755测试文件
$ ls -l测试文件
-rwxr-xr-x 1个用户1024 Nov 2 00:10 testfile
$ chmod 743测试文件
$ ls -l测试文件
-rwxr --- wx 1个用户1024 Nov 2 00:10 testfile
$ chmod 043测试文件
$ ls -l测试文件
---- r --- wx 1 amrood用户1024 Nov 2 00:10 testfile

## 更改所有者和组
在Unix上创建帐户时，它将为每个用户分配所有者ID和组ID。上面提到的所有权限也都是基于所有者和组分配的。

有两个命令可用于更改所有者和文件组-

chown-chown命令代表“更改所有者”，用于更改文件的所有者。

chgrp-chgrp命令代表“更改组”，用于更改文件组。

## 改变所有权
chown命令更改文件的所有权。基本语法如下-

$ chown用户文件列表
用户的值可以是系统上用户的名称，也可以是系统上用户的用户ID（uid）。

以下示例将帮助您理解概念-

$ chown amrood测试文件
$
将给定文件的所有者更改为用户范围。

注–超级用户root具有更改任何文件所有权的不受限制的功能，但是普通用户只能更改其拥有的那些文件的所有权。

## 更改组所有权
chgrp命令更改文件的组所有权。基本语法如下-

$ chgrp组文件列表
group的值可以是系统上组的名称，也可以是系统上组的组ID（GID）。

以下示例可帮助您理解概念-

$ chgrp特殊测试文件
$
将给定文件的组更改为特殊组。
