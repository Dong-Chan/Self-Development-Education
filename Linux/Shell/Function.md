#  Shell 函数
在本章中，我们将详细讨论shell函数。函数使您可以将脚本的整体功能分解为较小的逻辑子节，然后可以在需要时调用这些子节来执行其各自的任务。

使用函数执行重复性任务是创建代码重用的绝佳方法。这是现代面向对象编程原则的重要组成部分。

Shell函数类似于其他编程语言中的子例程，过程和函数。

## 创建功能
要声明一个函数，只需使用以下语法-

function_name（）{
   list of command
}
函数的名称为function_name，这就是从脚本其他位置调用函数的名称。函数名称后必须加括号，后跟括号内的命令列表。

例
以下示例显示了功能的使用-

```shell
＃!/bin/sh

＃在这里定义你的功能
Hello （） {
   echo “你好世界”
}

Hello
```

执行后，您将收到以下输出-
```shell
$。/ test.sh
你好，世界
```

## 将参数传递给函数
您可以定义一个在调用函数时将接受参数的函数。这些参数将由$ 1，$ 2等表示。

下面是一个示例，其中我们传递了两个参数Zara和Ali，然后捕获并在函数中打印这些参数。


＃！/ bin / sh

＃在这里定义你的功能
Hello （） {
   echo “ Hello World $ 1 $ 2”
}


Hello Zara Ali
执行后，您将收到以下结果-

```
$ ./test.sh
Hello World Zara Ali
```

## 从函数返回值
如果从函数内部执行退出命令，则其作用不仅是终止函数的执行，而且是终止调用该函数的Shell程序的执行。

相反，如果您只想终止函数的执行，则可以通过一种方法来定义函数。

根据情况，您可以使用以下语法的return命令从函数中返回任何值：

返回码
在这里，代码可以是您在此处选择的任何内容，但是显然您应该选择在整个脚本上下文中有意义或有用的内容。

例
以下函数返回值10-

```shell 
＃！/bin/sh

＃在这里定义你的功能
Hello （） {
   echo “ Hello World $ 1 $ 2”
   return 10
}

＃调用您的功能
Hello Dong Chan

＃捕获上一条命令返回的值
ret = $？

echo“返回值为 $ret”
```

执行后，您将收到以下结果-

$。/ test.sh
Hello World Zara Ali
返回值为10

## 嵌套函数
函数更有趣的功能之一是它们可以调用自己以及其他函数。调用自身的函数称为递归函数。

以下示例演示了两个函数的嵌套-

```shell
＃！/ bin / sh

＃从另一个调用一个函数
number_one （） {
   echo “这是第一个功能……”
   number_two
}

number_two () {
   echo“这是第二个函数了……”
}

＃调用函数一。
number_one
```
执行后，您将收到以下结果-

```
这是第一个功能……
这是第二个函数了……
```
